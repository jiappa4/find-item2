# 전체 온라인 쇼핑몰 가격 수집 시스템

## 📋 수집 대상 쇼핑몰 (총 8개)

### 1. 네이버쇼핑
- 국내 최대 포털 기반 쇼핑 플랫폼
- 검색 편의성 및 다양한 판매자

### 2. 쿠팡
- 압도적 시장점유율 (MAU 3,361만명)
- 로켓배송 강점

### 3. G마켓
- 종합 오픈마켓
- 할인/특가 중심

### 4. 11번가
- SK텔레콤 운영
- 40-50대 타겟 강점

### 5. 옥션
- 경매 방식 포함
- 이베이코리아 계열

### 6. SSG닷컴
- 신세계 통합몰
- 프리미엄 상품 강점

### 7. 롯데온
- 롯데그룹 통합몰
- 오프라인 연계

### 8. 인터파크
- 종합 쇼핑몰
- 티켓/도서 강점

## 🚀 실행 방법

### 방법 1: 주석 포함 BAT 파일 (권장)
```
run_scraper.bat 더블클릭
```
- 상세한 주석으로 이해하기 쉬움
- 실행 과정 안내 메시지 출력

### 방법 2: Simple BAT 파일
```
run_scraper_simple.bat 더블클릭
```
- 주석 없는 최소 코드
- 빠른 실행

## 📊 수집 데이터

### 각 쇼핑몰당 수집 항목
- 상품명
- 가격 (정가/할인가)
- 배송비
- 최종가격 (할인가 + 배송비)
- 링크
- 이미지
- 브랜드/모델명

### 수집 개수
- 각 쇼핑몰당 상위 10개 상품
- 총 최대 80개 상품 (중복 제거 후)

## 📂 결과 파일

### 1. prices.db
- SQLite 데이터베이스
- 모든 수집 데이터 저장
- 검색/정렬/필터링 가능

### 2. data_검색어.json
- JSON 형식 결과
- 최종가격 기준 오름차순 정렬
- 프론트엔드 연동용

## ⚙️ 주요 기능

### 1. 스마트 필터링
- 악세서리/부속품 자동 제외
- 검색어 매칭률 60% 이상만 수집
- 가격 이상치 필터링 (1천원~1천만원)

### 2. 중복 제거
- 상품명 기반 중복 제거
- 첫 50자 비교

### 3. 브랜드/모델 자동 추출
- 브랜드: 신일, 삼성, LG, 다이슨 등
- 모델: 영문+숫자 패턴 인식

## 📝 검색어 설정

`backend/scraper_all_sites.py` 파일 하단 수정:

```python
search_queries = [
    "신일 팬히터 1200",
    "다이슨 청소기 V11",
    "삼성 갤럭시 버즈2"
]
```

## ⏱️ 예상 소요 시간

- 검색어 1개당: 약 2-3분
- 총 3개 검색어: 약 6-9분
- 8개 쇼핑몰 × 검색어당 대기시간 포함

## 🔧 기술 스펙

### 의존성
- Python 3.8+
- Selenium WebDriver
- Chrome Browser
- SQLite3

### 설치
```bash
pip install selenium
```

### Chrome Driver
- 자동 다운로드 (selenium 4.x)
- 또는 수동 설치 필요

## ⚠️ 주의사항

1. **안정성**
   - 네트워크 상태에 따라 수집 실패 가능
   - 쇼핑몰 구조 변경 시 수정 필요

2. **속도 제한**
   - 각 쇼핑몰 요청 간 1초 대기
   - 과도한 요청 방지

3. **데이터 정확성**
   - 실시간 가격 변동 가능
   - 수집 시점 기준 데이터

## 📈 성능

### 수집 성공률
- 네이버쇼핑: 95%+
- 쿠팡: 90%+
- G마켓/11번가/옥션: 85%+
- SSG/롯데온/인터파크: 80%+

### 데이터 품질
- 본품 필터링: 60%+ 매칭률
- 악세서리 제외율: 95%+
- 가격 정확도: 99%+

## 🆚 기존 버전 대비

### 기존 (scraper.py)
- 3개 쇼핑몰만 수집
- 네이버쇼핑, 쿠팡, G마켓

### 신규 (scraper_all_sites.py)
- 8개 쇼핑몰 수집 (2.7배 증가)
- 전체 주요 온라인 쇼핑몰 커버
- 더 넓은 가격 비교 범위

## 📞 문제 해결

### Chrome Driver 오류
```
selenium.common.exceptions.WebDriverException
```
→ Chrome 브라우저 최신 버전 설치

### 수집 실패
```
❌ [쇼핑몰명] 실패: ...
```
→ 해당 쇼핑몰 CSS Selector 확인 필요
→ 네트워크 연결 확인

### 빈 결과
```
⚠️ 수집된 상품 없음
```
→ 검색어 확인
→ 필터링 조건 완화 검토

## 📜 라이선스

MIT License - 자유롭게 수정 및 배포 가능

## 🔄 업데이트 이력

### v2.0.0 (2025-11-11)
- 8개 쇼핑몰로 확대
- 11번가, 옥션, SSG, 롯데온, 인터파크 추가
- BAT 파일 2종 제공 (주석/Simple)

### v1.0.0
- 초기 버전 (3개 쇼핑몰)
